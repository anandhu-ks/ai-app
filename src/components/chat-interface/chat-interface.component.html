<div class="flex">
  <app-side-nav />

  @if(!chatArray().length){
  <div class="h-screen w-full grid place-content-center">
    <app-chat-welcome />
  </div>
  } @else{
  <div class="w-full">
    <div
      #chatContainer
      (scroll)="onScroll($event)"
      class="grid place-content-center w-full overflow-y-scroll scroll-smooth"
    >
      <div class="h-screen w-[640px]">
        @for (item of chatArray(); track $index) {

        <div class="flex justify-end mt-12">
          <div
            [@slideUp]
            class="rounded-xl bg-white bg-opacity-5 text-white text-opacity-40 px-5 py-4"
          >
            {{ item.userMessage }}
          </div>
        </div>
        <div [@slideUp] class="relative mt-12">
          <img
            src="https://open-frontend-bucket.s3.amazonaws.com/ai-agents/open-brand-white.svg"
            alt="openLogo"
            class="w-7 h-7 mr-4 absolute top-0 -left-10"
          />

          <div class="flex flex-col prose" [@slideUp]>
            <markdown [data]="item.agentMessage"></markdown>
          </div>
        </div>
        }
        <div class="h-12"></div>
      </div>
    </div>

    <div class="sticky flex justify-center bg-primary bottom-0 w-full z-10">
      <div class="pb-12 w-[780px]">
        <app-chat-input />
      </div>
    </div>
  </div>
  }
</div>
